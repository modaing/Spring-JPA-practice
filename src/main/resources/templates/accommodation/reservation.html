<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>reservation</title>
</head>
<body>
<h1>숙소 예약</h1>

<form action="/accommodation/reservation" method="post">
    <select name="accommodationCode" id="accommodationCode"></select><br>
    <label>예약자명 : </label><input type="text" name="clientName"/><br>
    <label>연락처 : </label><input type="text" name="phone"/><br>
    <label>예약 인원 : </label><input type="number" name="numberOfPerson"/><br>
    <label>예약 날짜 : </label><input type="date" name="reservationDate"/><br>
    <input type="submit" value="예약"/>
</form>

<script>
    fetch('/accommodation/name')
    .then(res => res.json())
    .then(data => {
        const $accommodationCode = document.getElementById('accommodationCode');

        for(let index in data) {
            const $accommodation = document.createElement('accommodation');
            $accommodation.value = data[index].accommodationCode;
            $accommodation.textContent = data[index].accommodationName;

            $accommodationCode.appendChild($accommodation);
        }
    });
</script>
</body>
</html>